"use strict";(self.webpackChunkfrontendreact=self.webpackChunkfrontendreact||[]).push([[915],{5906:(e,r,t)=>{t.d(r,{A:()=>l});var o=t(6240),n=t(6446),a=t(5865),s=t(3777),i=(t(5043),t(579));const l=e=>{let{title:r,subtitle:t}=e;const l=(0,o.A)(),c=(0,s.LU)(l.palette.mode);return(0,i.jsxs)(n.A,{m:"30px",children:[(0,i.jsx)(a.A,{variant:"h2",color:c.grey[200],fontWeight:"bold",sx:{mb:"5px"},children:r}),(0,i.jsx)(a.A,{variant:"h5",color:c.blueAccent[400],children:t})]})}},3868:(e,r,t)=>{t.d(r,{A:()=>c});var o=t(6240),n=t(6446),a=t(5865),s=t(1637),i=t(3777),l=t(579);const c=e=>{let{title:r,subtitle:t,icon:c,progress:d,increase:h,colorprogressstat:x,textcolor:g}=e;const p=(0,o.A)(),A=(0,i.LU)(p.palette.mode);return console.log("data received "+d),(0,l.jsxs)(n.A,{width:"100%",m:"0 30px",children:[(0,l.jsxs)(n.A,{display:"flex",justifyContent:"space-between",children:[(0,l.jsxs)(n.A,{children:[c,(0,l.jsx)(a.A,{variant:"h4",fontWeight:"bold",sx:{color:A.grey[200]},children:r})]}),(0,l.jsx)(n.A,{children:(0,l.jsx)(s.A,{variant:"determinate",sx:{color:A.blueAccent[500]},value:d})})]}),(0,l.jsxs)(n.A,{display:"flex",justifyContent:"space-between",mt:"2px",children:[(0,l.jsx)(a.A,{variant:"h5",sx:{color:"".concat(g)},children:t}),(0,l.jsx)(a.A,{variant:"h5",fontStyle:"italic",sx:{color:"".concat(g)},children:h})]})]})}},9915:(e,r,t)=>{t.r(r),t.d(r,{default:()=>ee});var o=t(5043),n=t(6240),a=t(6446),s=t(5865),i=t(1906),l=t(3777),c=t(35),d=t(9347),h=t(5316),x=t(8587),g=t(8168),p=t(8387),A=t(8610),u=t(4535),j=t(1475),m=t(8206),f=t(2532),y=t(2372);function v(e){return(0,y.Ay)("MuiDialogContentText",e)}(0,f.A)("MuiDialogContentText",["root"]);var C=t(579);const b=["children","className"],w=(0,u.Ay)(s.A,{shouldForwardProp:e=>(0,j.A)(e)||"classes"===e,name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,r)=>r.root})({}),T=o.forwardRef((function(e,r){const t=(0,m.b)({props:e,name:"MuiDialogContentText"}),{className:o}=t,n=(0,x.A)(t,b),a=(e=>{const{classes:r}=e,t=(0,A.A)({root:["root"]},v,r);return(0,g.A)({},r,t)})(n);return(0,C.jsx)(w,(0,g.A)({component:"p",variant:"body1",color:"text.secondary",ref:r,ownerState:n,className:(0,p.A)(a.root,o)},t,{classes:a}))}));var k=t(6600),E=t(3216),_=t(4094),S=t(3248);const z=function(e){let{endpoint:r}=e;(0,S.jE)();const t=(0,n.A)(),s=(0,l.LU)(t.palette.mode),x=(0,E.Zp)(),[g,p]=(0,o.useState)(!1),A=()=>{p(!1)};return(0,C.jsxs)(a.A,{children:[(0,C.jsx)(i.A,{sx:{backgroundColor:s.blueAccent[400],fontSize:"14px",fontWeight:"bold",padding:"10px 20px",alignItems:"center",display:"flex",justifyContent:"center",color:s.grey[100]},onClick:()=>{p(!0)},children:"Deletar pedido"}),(0,C.jsxs)(c.A,{open:g,onClose:A,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,C.jsx)(k.A,{id:"alert-dialog-title",children:"Apagar carga"}),(0,C.jsx)(h.A,{children:(0,C.jsx)(T,{id:"alert-dialog-description",children:"Voce esta prestes a apagar um registro, voce tem certeza que deseja prosseguir?"})}),(0,C.jsxs)(d.A,{children:[(0,C.jsx)(i.A,{onClick:A,children:"Cancelar"}),(0,C.jsx)(i.A,{onClick:async()=>{try{await _.A.delete(r);console.log("Delete request successful!"),A(),x("/dashboard")}catch(e){console.error("Error:",e)}},autoFocus:!0,children:"Apagar"})]})]})]})};var M=t(5906),R=t(1132),H=t(3868),V=t(5722),D=t(3192),W=t(4533),P=t(4552),F=t(2221),L=t(2143),N=t(5527),I=t(3193),O=t(1787),U=t(9190),B=t(4050),q=t(3146),X=t(8194),$=t(9505),K=t(422),Z=t(3513),G=t(9089),J=t(3158),Q=t(2664);const Y=e=>{let{requestData:r,params:t}=e;const n=(0,N.A)(),s=(0,l.LU)(n.palette.mode),[x,g]=(0,o.useState)(!1),[p,A]=((0,S.jE)(),(0,o.useState)([])),[u,j]=(0,o.useState)([]),[m,f]=(0,o.useState)(r.contractorname||""),[y,v]=(0,o.useState)(r.origin||""),[b,w]=(0,o.useState)(!1),[T,z]=(0,o.useState)("Carga alterada com sucesso!"),M=(e,r)=>{"clickaway"!==r&&w(!1)},R=e=>{w(!0)},H=((0,E.Zp)(),()=>{g(!1)});return(0,o.useEffect)((()=>{fetch("http://127.0.0.1:8000/contractor/").then((e=>e.json())).then((e=>{const r=e.results;A(r.map((e=>({id:e.id,name:e.name}))))})).catch((e=>console.error("Error fetching data:",e))),fetch("http://127.0.0.1:8000/country/").then((e=>e.json())).then((e=>{const r=e.results;j(r.map((e=>({id:e.id,name:e.name}))))})).catch((e=>console.error("Error fetching data:",e)))}),[]),(0,C.jsxs)("div",{children:[(0,C.jsx)(i.A,{onClick:()=>{g(!0)},sx:{backgroundColor:s.blueAccent[400],fontSize:"14px",fontWeight:"bold",padding:"10px 20px",alignItems:"center",display:"flex",justifyContent:"center",color:s.grey[100]},children:"Editar"}),(0,C.jsxs)(c.A,{open:x,fullWidth:!0,onClose:H,PaperProps:{component:"form",encType:"multipart/form-data",onSubmit:async e=>{e.preventDefault();const r=new FormData(e.currentTarget),o=Object.fromEntries(r.entries());r.append("data",JSON.stringify(o));try{const e=await _.A.patch("cargasinfo/"+t.id+"/",r);if(200!==e.status)throw new Error("HTTP error! status: ".concat(e.status));{const r=e.data;console.log("Success:",r),H(),R(),window.location.reload()}}catch(n){console.error("Error:",n)}},sx:{color:s.grey[100]}},children:[(0,C.jsx)(k.A,{variant:"h3",fontWeight:"Bold",color:s.grey[200],children:"Editar carga"}),(0,C.jsxs)(h.A,{children:[(0,C.jsx)(a.A,{marginTop:"15px",children:(0,C.jsxs)(I.A,{fullWidth:!0,children:[(0,C.jsx)(U.A,{htmlFor:"contractorname",children:"Contratante"}),(0,C.jsx)(F.A,{style:{height:50,backgroundColor:s.blueAccent[900],color:s.grey[200]},defaultValue:r.contractorname,label:"Contratante",startAdornment:(0,C.jsx)(O.A,{position:"start",children:(0,C.jsx)(G.A,{sx:{color:s.grey[300]}})}),onChange:e=>f(e.target.value),name:"contractorname",children:p.map((e=>(0,C.jsx)(L.A,{value:e.id,children:e.name},e.id)))})]})}),(0,C.jsx)(a.A,{marginTop:"25px",children:(0,C.jsxs)(I.A,{fullWidth:!0,children:[(0,C.jsx)(U.A,{htmlFor:"type_of_load",children:"Tipo de Carga"}),(0,C.jsx)(B.A,{style:{height:50,backgroundColor:s.blueAccent[900],color:s.grey[200],borderRadius:"4px",borderWidth:"1px",borderColor:s.grey[400]},defaultValue:r.type_of_load,id:"type_of_load",name:"type_of_load",placeholder:"Tipo de carga",startAdornment:(0,C.jsx)(O.A,{position:"start",children:(0,C.jsx)(q.A,{sx:{color:s.grey[300]}})}),label:"Tipo de Carga"})]})}),(0,C.jsx)(a.A,{marginTop:"25px",children:(0,C.jsxs)(I.A,{fullWidth:!0,children:[(0,C.jsx)(U.A,{htmlFor:"origin",children:"Origem"}),(0,C.jsx)(F.A,{style:{height:50,backgroundColor:s.blueAccent[900],color:s.grey[200]},label:"Origem",defaultValue:r.origin,startAdornment:(0,C.jsx)(O.A,{position:"start",children:(0,C.jsx)(Z.A,{sx:{color:s.grey[300]}})}),onChange:e=>v(e.target.value),name:"origin",children:u.map((e=>(0,C.jsx)(L.A,{value:e.id,children:e.name},e.id)))})]})}),(0,C.jsx)(a.A,{marginTop:"25px",children:(0,C.jsxs)(I.A,{fullWidth:!0,children:[(0,C.jsx)(U.A,{htmlFor:"weight",children:"Peso"}),(0,C.jsx)(B.A,{style:{height:50,backgroundColor:s.blueAccent[900],color:s.grey[200]},id:"weight",name:"weight",defaultValue:r.weight,placeholder:"Kg",startAdornment:(0,C.jsx)(O.A,{position:"start",children:(0,C.jsx)(X.A,{sx:{color:s.grey[300]}})}),label:"Peso"})]})}),(0,C.jsx)(a.A,{marginTop:"25px",children:(0,C.jsxs)(I.A,{fullWidth:!0,children:[(0,C.jsx)(U.A,{htmlFor:"cost",children:"Custo"}),(0,C.jsx)(B.A,{style:{height:50,backgroundColor:s.blueAccent[900],color:s.grey[200]},id:"cost",name:"cost",defaultValue:r.cost,startAdornment:(0,C.jsx)(O.A,{position:"start",children:(0,C.jsx)($.A,{sx:{color:s.grey[300]}})}),label:"Custo"})]})}),(0,C.jsx)(a.A,{marginTop:"25px",children:(0,C.jsxs)(I.A,{fullWidth:!0,children:[(0,C.jsx)(U.A,{htmlFor:"ce_mercante",children:"CE MERCANTE"}),(0,C.jsx)(B.A,{style:{height:50,backgroundColor:s.blueAccent[900],color:s.grey[200]},defaultValue:r.ce_mercante||"",id:"ce_mercante",name:"ce_mercante",startAdornment:(0,C.jsx)(O.A,{position:"start",children:(0,C.jsx)(K.A,{sx:{color:s.grey[300]}})}),label:"CE MERCANTE"})]})})]}),(0,C.jsxs)(d.A,{children:[(0,C.jsx)(i.A,{onClick:H,sx:{color:s.grey[200]},children:"Cancelar"}),(0,C.jsx)(i.A,{type:"submit",sx:{color:s.grey[200]},children:"Salvar"})]})]}),(0,C.jsx)(J.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:b,autoHideDuration:3e3,onClose:M,children:(0,C.jsx)(Q.A,{onClose:M,severity:"success",children:T})})]})};function ee(){const e=(0,n.A)(),r=(0,l.LU)(e.palette.mode),t=(0,E.g)(),[c,d]=(0,o.useState)([]),h=t.id;return console.log(h),(0,o.useEffect)((()=>{if(t.id){console.log("Updated id:",h);(async()=>{try{const e="/ship/shipments/"+t.id;console.log(e);const r=await _.A.get(e);console.log(r.data),d(r.data)}catch(e){console.error("Error fetching data:",e)}})()}}),[t.id]),(0,C.jsxs)(a.A,{m:"20px",children:[(0,C.jsxs)(a.A,{display:"flex",justifyContent:"space-between",sx:{boxShadow:4},alignItems:"center",children:[(0,C.jsx)(a.A,{children:(0,C.jsx)(M.A,{title:"Carga",subtitle:c.contractor_name_display})}),(0,C.jsxs)(a.A,{display:"flex",justifyContent:"space-between",alignItems:"center",marginRight:"25px",sx:{gap:"20px"},children:[(0,C.jsx)(Y,{requestData:c,params:t}),(0,C.jsx)(z,{endpoint:"cargasinfo/"+t.id+"/"})]})]}),(0,C.jsx)(a.A,{mt:"15px",display:"flex",justifyContent:"space-between",children:(0,C.jsxs)(a.A,{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",mt:"15px",gap:"15px",width:"100%",gridAutoRows:"auto",children:[(0,C.jsx)(a.A,{gridColumn:"span 12",backgroundColor:r.primary[400],sx:{boxShadow:4,padding:"20px"},children:(0,C.jsxs)(a.A,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"15px",alignContent:"center",children:[(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["Id: ",c.referenciaid]}),(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["Data: ",c.created_at?"".concat(c.created_at.substring(8,10)," / ").concat(c.created_at.substring(5,7)," / ").concat(c.created_at.substring(0,4)):"N/A"]}),(0,C.jsx)(a.A,{display:"flex",justifyContent:"flex-end",alignItems:"center",children:(0,C.jsx)(i.A,{variant:"contained",sx:{backgroundColor:r.greenAccent[700],fontSize:"10px",fontWeight:"bold",color:r.grey[100]},children:"Em transito"})})]})}),(0,C.jsxs)(a.A,{display:"grid",gridColumn:"span 12",gridRow:"span 12",gap:"20px",alignContent:"center",sx:{boxShadow:4,padding:"20px"},children:[(0,C.jsxs)(a.A,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",children:[(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["Custo: R$",c.cost]}),(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["NCM: ",c.ncm]}),(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["Container: ",c.cntrnum]})]}),(0,C.jsxs)(a.A,{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"20px",children:[(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["Origem: ",c.origin_name_display]}),(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["Peso: ",c.weight,"kg"]}),(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["CE MERCANTE: ",c.ce_mercante]}),(0,C.jsx)(s.A,{variant:"h5",color:r.grey[200],children:"Destino:"}),(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["Tipo de carga: ",c.type_of_load]}),(0,C.jsxs)(s.A,{variant:"h5",color:r.grey[200],children:["BL: ",c.blnum]})]})]}),(0,C.jsx)(a.A,{display:"grid",backgroundColor:r.primary[400],gridColumn:"span 12",gridRow:"span 5",alignContent:"center",sx:{boxShadow:4,padding:"10px"},children:(0,C.jsxs)(a.A,{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"20px",children:[(0,C.jsxs)(i.A,{href:"http://127.0.0.1:8000/repositorio/bl/".concat(t.id),download:"Packinglist"+c.referenciaid,variant:"contained",disabled:!c.blfile,children:[(0,C.jsx)(R.A,{}),"BL"]}),(0,C.jsxs)(i.A,{href:"http://127.0.0.1:8000/repositorio/ce_m/".concat(t.id),download:"Packinglist"+c.referenciaid,variant:"contained",disabled:!c.ce_m_file,children:[(0,C.jsx)(R.A,{}),"CE MERCANTE"]}),(0,C.jsxs)(i.A,{href:"http://127.0.0.1:8000/repositorio/packinglist/".concat(t.id),download:"Packinglist"+c.referenciaid,variant:"contained",disabled:!c.packinglist,children:[(0,C.jsx)(R.A,{}),"PACKING LIST"]}),(0,C.jsxs)(i.A,{href:"http://127.0.0.1:8000/repositorio/afrmm/".concat(t.id),download:"Packinglist"+c.referenciaid,variant:"contained",disabled:!c.afrmmfile,children:[(0,C.jsx)(R.A,{}),"Comprovante de pagamento"]})]})}),(0,C.jsx)(a.A,{display:"grid",gridColumn:"span 12",gridRow:"span 10",alignContent:"center",sx:{boxShadow:4},children:(0,C.jsxs)(a.A,{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",children:[(0,C.jsx)(a.A,{marginRight:"20px",children:(0,C.jsx)(H.A,{title:"20/10/2024 - 18:00",textcolor:r.grey[200],icon:(0,C.jsx)(V.A,{}),subtitle:"Previsao de chegada"})}),(0,C.jsx)(a.A,{marginRight:"20px",children:(0,C.jsx)(H.A,{title:"R$: 7.540",textcolor:r.grey[200],icon:(0,C.jsx)(D.A,{}),subtitle:"Faturamento do pedido"})}),(0,C.jsx)(a.A,{marginRight:"20px",children:(0,C.jsx)(H.A,{title:"R$: 27.560",textcolor:r.grey[200],icon:(0,C.jsx)(W.A,{}),subtitle:"Faturamento total do cliente"})}),(0,C.jsx)(a.A,{marginRight:"20px",children:(0,C.jsx)(H.A,{title:"XXXX",textcolor:r.grey[200],icon:(0,C.jsx)(P.A,{}),subtitle:"Terminal de carregamento"})})]})})]})})]})}},4533:(e,r,t)=>{var o=t(4994);r.A=void 0;var n=o(t(39)),a=t(579);r.A=(0,n.default)((0,a.jsx)("path",{d:"M4 10h3v7H4zm6.5 0h3v7h-3zM2 19h20v3H2zm15-9h3v7h-3zm-5-9L2 6v2h20V6z"}),"AccountBalance")},5722:(e,r,t)=>{var o=t(4994);r.A=void 0;var n=o(t(39)),a=t(579);r.A=(0,n.default)((0,a.jsx)("path",{d:"M19 4h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V10h14zM9 14H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2zm-8 4H7v-2h2zm4 0h-2v-2h2zm4 0h-2v-2h2z"}),"CalendarMonth")},4552:(e,r,t)=>{var o=t(4994);r.A=void 0;var n=o(t(39)),a=t(579);r.A=(0,n.default)((0,a.jsx)("path",{d:"M20 21c-1.39 0-2.78-.47-4-1.32-2.44 1.71-5.56 1.71-8 0C6.78 20.53 5.39 21 4 21H2v2h2c1.38 0 2.74-.35 4-.99 2.52 1.29 5.48 1.29 8 0 1.26.65 2.62.99 4 .99h2v-2zM3.95 19H4c1.6 0 3.02-.88 4-2 .98 1.12 2.4 2 4 2s3.02-.88 4-2c.98 1.12 2.4 2 4 2h.05l1.9-6.68c.11-.37.04-1.06-.66-1.28L20 10.62V6c0-1.1-.9-2-2-2h-3V1H9v3H6c-1.1 0-2 .9-2 2v4.62l-1.29.42c-.63.19-.81.84-.66 1.28zM6 6h12v3.97L12 8 6 9.97z"}),"DirectionsBoatFilled")},1132:(e,r,t)=>{var o=t(4994);r.A=void 0;var n=o(t(39)),a=t(579);r.A=(0,n.default)((0,a.jsx)("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download")},3192:(e,r,t)=>{var o=t(4994);r.A=void 0;var n=o(t(39)),a=t(579);r.A=(0,n.default)((0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16"}),"MonetizationOn")}}]);
//# sourceMappingURL=915.c80116ad.chunk.js.map