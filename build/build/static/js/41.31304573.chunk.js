"use strict";(self.webpackChunkfrontendreact=self.webpackChunkfrontendreact||[]).push([[41,775],{5906:(e,r,t)=>{t.d(r,{A:()=>i});var o=t(6240),n=t(6446),l=t(5865),a=t(3777),s=(t(5043),t(579));const i=e=>{let{title:r,subtitle:t}=e;const i=(0,o.A)(),c=(0,a.LU)(i.palette.mode);return(0,s.jsxs)(n.A,{m:"30px",children:[(0,s.jsx)(l.A,{variant:"h2",color:c.grey[200],fontWeight:"bold",sx:{mb:"5px"},children:r}),(0,s.jsx)(l.A,{variant:"h5",color:c.blueAccent[400],children:t})]})}},5775:(e,r,t)=>{t.r(r),t.d(r,{default:()=>M});var o=t(1906),n=t(35),l=t(6600),a=t(5316),s=t(6446),i=t(2221),c=t(2143),d=t(9347),h=t(5043),x=t(5527),p=t(3777),g=t(3193),u=t(1787),A=t(9190),m=t(4050),b=t(3146),j=t(8194),f=t(9505),y=t(422),C=t(3513),v=t(9089),w=t(3158),k=t(2664),S=t(3248),W=t(4094),T=t(3216),_=t(579);const M=()=>{const e=(0,S.jE)(),r=(0,x.A)(),t=(0,p.LU)(r.palette.mode),[M,E]=(0,h.useState)(!1),[N,R]=((0,T.Zp)(),(0,h.useState)([])),[L,z]=(0,h.useState)([]),[D,P]=(0,h.useState)(""),[F,B]=(0,h.useState)(""),[H,I]=(0,h.useState)("Adicionar CE_M"),[G,O]=(0,h.useState)("Adiconar BL"),[U,V]=(0,h.useState)("Adicionar PackingList"),[Z,$]=(0,h.useState)("Adicionar AFRMM"),[J,K]=(0,h.useState)(!1),[Q,q]=(0,h.useState)("Nova carga registrada"),X=(e,r)=>{"clickaway"!==r&&K(!1)};(0,h.useEffect)((()=>{fetch("http://127.0.0.1:8000/contractor/").then((e=>e.json())).then((e=>{const r=e.results;R(r.map((e=>({id:e.id,name:e.name}))))})).catch((e=>console.error("Error fetching data:",e))),fetch("http://127.0.0.1:8000/country/").then((e=>e.json())).then((e=>{const r=e.results;z(r.map((e=>({id:e.id,name:e.name}))))})).catch((e=>console.error("Error fetching data:",e)))}),[]);const Y=()=>{E(!1)};return(0,_.jsxs)("div",{children:[(0,_.jsx)(o.A,{onClick:()=>{E(!0)},sx:{backgroundColor:t.blueAccent[400],fontSize:"14px",fontWeight:"bold",padding:"10px 20px",alignItems:"center",display:"flex",justifyContent:"center",color:t.grey[100]},children:"Nova carga"}),(0,_.jsxs)(n.A,{open:M,fullWidth:!0,onClose:Y,sx:t.primary[500],PaperProps:{component:"form",onSubmit:async r=>{r.preventDefault();const t=new FormData(r.currentTarget),o=Object.fromEntries(t.entries());t.append("data",JSON.stringify(o)),console.log(t);try{const r=await W.A.post("/cargasinfo/",t,{headers:{"Content-Type":"multipart/form-data"}});console.log(r),q("Nova carga adicionada!"),K(!0),Y(),K(!0),e.invalidateQueries("cargasinfo")}catch(n){console.error(n),q("Erro ao registrar nova carga"),K(!0)}}},children:[(0,_.jsx)(l.A,{variant:"h3",fontWeight:"Bold",color:t.grey[200],children:"Registrar nova carga"}),(0,_.jsxs)(a.A,{children:[(0,_.jsx)(s.A,{marginTop:"15px",children:(0,_.jsxs)(g.A,{fullWidth:!0,children:[(0,_.jsx)(A.A,{htmlFor:"contractorname",children:"Cliente"}),(0,_.jsx)(i.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},value:D,label:"Contratante",startAdornment:(0,_.jsx)(u.A,{position:"start",children:(0,_.jsx)(v.A,{sx:{color:t.grey[400]}})}),onChange:e=>P(e.target.value),name:"contractorname",children:N.map((e=>(0,_.jsx)(c.A,{value:e.id,children:e.name},e.id)))})]})}),(0,_.jsx)(s.A,{marginTop:"25px",children:(0,_.jsxs)(g.A,{fullWidth:!0,children:[(0,_.jsx)(A.A,{htmlFor:"type_of_load",children:"Tipo de Carga"}),(0,_.jsx)(m.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},id:"type_of_load",name:"type_of_load",placeholder:"Tipo de carga",startAdornment:(0,_.jsx)(u.A,{position:"start",children:(0,_.jsx)(b.A,{sx:{color:t.grey[400]}})}),label:"Tipo de Carga"})]})}),(0,_.jsx)(s.A,{marginTop:"25px",children:(0,_.jsxs)(g.A,{fullWidth:!0,children:[(0,_.jsx)(A.A,{htmlFor:"origin",children:"Origem"}),(0,_.jsx)(i.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},value:F,label:"Origem",startAdornment:(0,_.jsx)(u.A,{position:"start",children:(0,_.jsx)(C.A,{sx:{color:t.grey[300]}})}),onChange:e=>B(e.target.value),name:"origin",children:L.map((e=>(0,_.jsx)(c.A,{value:e.id,children:e.name},e.id)))})]})}),(0,_.jsx)(s.A,{marginTop:"25px",children:(0,_.jsxs)(g.A,{fullWidth:!0,children:[(0,_.jsx)(A.A,{htmlFor:"weight",children:"Peso"}),(0,_.jsx)(m.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},id:"weight",name:"weight",placeholder:"Kg",startAdornment:(0,_.jsx)(u.A,{position:"start",children:(0,_.jsx)(j.A,{sx:{color:t.grey[300]}})}),label:"Peso"})]})}),(0,_.jsx)(s.A,{marginTop:"25px",children:(0,_.jsxs)(g.A,{fullWidth:!0,children:[(0,_.jsx)(A.A,{htmlFor:"cost",children:"Custo"}),(0,_.jsx)(m.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},id:"cost",name:"cost",startAdornment:(0,_.jsx)(u.A,{position:"start",children:(0,_.jsx)(f.A,{sx:{color:t.grey[300]}})}),label:"Custo"})]})}),(0,_.jsx)(s.A,{marginTop:"25px",children:(0,_.jsxs)(g.A,{fullWidth:!0,children:[(0,_.jsx)(A.A,{htmlFor:"ce_mercante",children:"CE MERCANTE"}),(0,_.jsx)(m.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},id:"ce_mercante",name:"ce_mercante",startAdornment:(0,_.jsx)(u.A,{position:"start",children:(0,_.jsx)(y.A,{sx:{color:t.grey[300]}})}),label:"CE MERCANTE"})]})}),(0,_.jsxs)(s.A,{marginTop:"25px",display:"flex",children:[(0,_.jsx)(g.A,{fullWidth:!0,children:(0,_.jsxs)(o.A,{variant:"outlined",style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderColor:t.grey[500]},component:"label",children:[G,(0,_.jsx)("input",{type:"file",name:"blfile",hidden:!0,onChange:e=>{var r;const t=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar BL";O(t)}})]})}),(0,_.jsx)(g.A,{fullWidth:!0,children:(0,_.jsxs)(o.A,{variant:"outlined",style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderColor:t.grey[500]},component:"label",children:[H,(0,_.jsx)("input",{type:"file",name:"ce_m_file",hidden:!0,onChange:e=>{var r;const t=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar CE_M";I(t)}})]})})]}),(0,_.jsx)(s.A,{marginTop:"25px",children:(0,_.jsx)(g.A,{fullWidth:!0,children:(0,_.jsxs)(o.A,{variant:"outlined",style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderColor:t.grey[500]},component:"label",children:[U,(0,_.jsx)("input",{type:"file",name:"packinglist",hidden:!0,onChange:e=>{var r;const t=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar PackingList";V(t)}})]})})}),(0,_.jsx)(s.A,{marginTop:"25px",children:(0,_.jsx)(g.A,{fullWidth:!0,children:(0,_.jsxs)(o.A,{variant:"outlined",style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderColor:t.grey[500]},component:"label",children:[Z,(0,_.jsx)("input",{type:"file",name:"afrmmfile",hidden:!0,onChange:e=>{var r;const t=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar AFRMM";$(t)}})]})})})]}),(0,_.jsxs)(d.A,{children:[(0,_.jsx)(o.A,{onClick:Y,sx:{color:t.grey[200]},children:"Cancelar"}),(0,_.jsx)(o.A,{type:"submit",sx:{color:t.grey[200]},children:"Cadastrar"})]})]}),(0,_.jsx)(w.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:J,autoHideDuration:3e3,onClose:X,children:(0,_.jsx)(k.A,{onClose:X,severity:"success",children:Q})})]})}},3868:(e,r,t)=>{t.d(r,{A:()=>c});var o=t(6240),n=t(6446),l=t(5865),a=t(1637),s=t(3777),i=t(579);const c=e=>{let{title:r,subtitle:t,icon:c,progress:d,increase:h,colorprogressstat:x,textcolor:p}=e;const g=(0,o.A)(),u=(0,s.LU)(g.palette.mode);return console.log("data received "+d),(0,i.jsxs)(n.A,{width:"100%",m:"0 30px",children:[(0,i.jsxs)(n.A,{display:"flex",justifyContent:"space-between",children:[(0,i.jsxs)(n.A,{children:[c,(0,i.jsx)(l.A,{variant:"h4",fontWeight:"bold",sx:{color:u.grey[200]},children:r})]}),(0,i.jsx)(n.A,{children:(0,i.jsx)(a.A,{variant:"determinate",sx:{color:u.blueAccent[500]},value:d})})]}),(0,i.jsxs)(n.A,{display:"flex",justifyContent:"space-between",mt:"2px",children:[(0,i.jsx)(l.A,{variant:"h5",sx:{color:"".concat(p)},children:t}),(0,i.jsx)(l.A,{variant:"h5",fontStyle:"italic",sx:{color:"".concat(p)},children:h})]})]})}},9041:(e,r,t)=>{t.r(r),t.d(r,{default:()=>C});var o=t(5043),n=t(9379),l=t(6240),a=t(1906),s=t(611),i=t(6446),c=t(3777),d=t(7570),h=t(7363),x=t(2505),p=t(4094),g=t(3216),u=t(5475),A=t(579);const m=e=>{let{margin:r,altura:t,largura:m}=e;const b=(0,l.A)(),j=(0,c.LU)(b.palette.mode),[f,y]=((0,g.Zp)(),(0,o.useState)(null)),[C,v]=(0,o.useState)(!0),[w,k]=(0,o.useState)(null),S=[{field:"ce_mercante",headerName:"Cliente",flex:.8},{field:"shipping_status",headerName:"Status de Envio",flex:.5,align:"center",headerAlign:"center"},{field:"type_of_load",headerName:"Tipo de Carga",flex:.8,align:"center",headerAlign:"center"},{field:"origin_name_display",headerName:"Origem",flex:.5,align:"center",headerAlign:"center"},{field:"weight",headerName:"Peso",type:"number",flex:.5,align:"center",headerAlign:"center"},{field:"cost",headerName:"Custo",type:"number",flex:.5,align:"center",headerAlign:"center"},{field:"BL",headerName:"BL",flex:.5,align:"center",headerAlign:"center",renderCell:e=>null===e.row.blfile?(0,A.jsx)(a.A,{style:{color:j.redAccent[500]},size:"small",children:"Indispon\xedvel"}):(0,A.jsx)("strong",{children:(0,A.jsx)("a",{href:"http://127.0.0.1:8000/repositorio/bl/".concat(e.row.id),download:e.row.filename+"."+e.row.extension,children:(0,A.jsx)(a.A,{variant:"contained",sx:{color:j.grey[200],backgroundColor:j.blueAccent[500]},size:"small",children:"Baixar"})})})},{field:" ",headerName:" ",flex:.5,align:"center",headerAlign:"center",renderCell:e=>(0,A.jsx)("strong",{children:(0,A.jsx)(a.A,{variant:"contained",sx:{color:j.grey[200],backgroundColor:j.blueAccent[500]},component:u.N_,to:{pathname:"/dashboard/detalhes/".concat(e.row.id),state:{id:e.row.id}},size:"small",startIcon:(0,A.jsx)(x.A,{}),children:"Detalhes"})})}];if((0,o.useEffect)((()=>{(async()=>{try{const e=await p.A.get("/ship/clientes/company/{company_id}",{withCredentials:!0});y(e.data)}catch(w){k(w)}finally{v(!1)}})()}),[]),C)return(0,A.jsx)(s.A,{sx:{color:j.blueAccent[400]}});if(w)return(0,A.jsxs)("div",{children:["Error: ",w.message]});const W=f.map(((e,r)=>(0,n.A)({id:r},e)));return(0,A.jsx)(i.A,{m:r,height:t,width:m,sx:{"& .name-column-cell":{color:j.greenAccent[400]},"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:j.blueAccent[700],borderBottom:"none"},"& .MuiDataGrid-columnHeader":{borderBottom:j.blueAccent[400]},"& .MuiDataGrid-virtualScroller":{backgroundColor:j.blueAccent[900]},"& .MuiDataGrid-footerContainer":{backgroundColor:j.blueAccent[400],borderTop:"none"}},children:(0,A.jsx)(d.z,{localeText:h.F.components.MuiDataGrid.defaultProps.localeText,rows:W,columns:S,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0})})};var b=t(5906),j=(t(5775),t(2991)),f=t(9380),y=t(3868);function C(){const e=(0,l.A)(),r=(0,c.LU)(e.palette.mode),t=10,o=5,n=3,a=2;return(0,A.jsxs)(i.A,{m:"20px",children:[(0,A.jsx)(i.A,{display:"flex",justifyContent:"space-between",sx:{boxShadow:4},alignItems:"center",children:(0,A.jsx)(i.A,{children:(0,A.jsx)(b.A,{title:"Nome da empresa",subtitle:"Relatorios"})})}),(0,A.jsxs)(i.A,{display:"grid",gridTemplateColumns:{xs:"repeat(3, 1fr)",sm:"repeat(6, 1fr)",md:"repeat(12, 1fr)"},mt:"15px",gap:"15px",gridAutoRows:"140px",children:[(0,A.jsx)(i.A,{gridColumn:{xs:"span 12",sm:"span 6",md:"span 3"},backgroundColor:r.primary[400],display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",sx:{boxShadow:5},children:(0,A.jsx)(y.A,{title:"0",subtitle:"Pagamentos a receber",icon:(0,A.jsx)(f.A,{sx:{color:r.blueAccent[400]}}),progress:"".concat(t/(t+o+n+a)*100),textcolor:r.blueAccent[400]})}),(0,A.jsx)(i.A,{gridColumn:{xs:"span 12",sm:"span 6",md:"span 3"},backgroundColor:r.primary[400],display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",sx:{boxShadow:5},children:(0,A.jsx)(y.A,{title:"0",subtitle:"Pagamentos pendentes",icon:(0,A.jsx)(f.A,{sx:{color:r.blueAccent[400]}}),progress:"".concat(n/(t+o+n+a)*100),colorprogressstat:r.blueAccent[400],textcolor:r.blueAccent[400]})}),(0,A.jsx)(i.A,{gridColumn:{xs:"span 12",sm:"span 6",md:"span 3"},backgroundColor:r.primary[400],display:"flex",flexWrap:"wrap",alignItems:"center",sx:{boxShadow:5},children:(0,A.jsx)(y.A,{title:"R$15025",subtitle:"Custo operacional",icon:(0,A.jsx)(j.A,{sx:{color:r.blueAccent[400]}}),progress:"".concat(a/(t+o+n+a)*100),colorprogressstat:r.blueAccent[400],textcolor:r.blueAccent[400]})}),(0,A.jsx)(i.A,{gridColumn:{xs:"span 12",sm:"span 6",md:"span 3"},backgroundColor:r.primary[400],display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",sx:{boxShadow:5},children:(0,A.jsx)(y.A,{title:"R$7200",subtitle:"Faturamento semestral",icon:(0,A.jsx)(f.A,{sx:{color:r.blueAccent[400]}}),progress:"".concat(o/(t+o+n+a)*100),colorprogressstat:r.redAccent[500],textcolor:r.blueAccent[400]})})]}),(0,A.jsx)(i.A,{mt:"15px ",children:(0,A.jsx)(m,{})})]})}},9380:(e,r,t)=>{var o=t(4994);r.A=void 0;var n=o(t(39)),l=t(579);r.A=(0,n.default)((0,l.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8zm2 16H8v-2h8zm0-4H8v-2h8zm-3-5V3.5L18.5 9z"}),"Description")},2991:(e,r,t)=>{var o=t(4994);r.A=void 0;var n=o(t(39)),l=t(579);r.A=(0,n.default)((0,l.jsx)("path",{d:"M20 8h-3V4H3c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5zM6 18.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5m13.5-9 1.96 2.5H17V9.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5"}),"LocalShipping")}}]);
//# sourceMappingURL=41.31304573.chunk.js.map