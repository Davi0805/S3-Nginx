"use strict";(self.webpackChunkfrontendreact=self.webpackChunkfrontendreact||[]).push([[142,775],{5906:(e,r,t)=>{t.d(r,{A:()=>c});var n=t(6240),o=t(6446),l=t(5865),a=t(3777),i=(t(5043),t(579));const c=e=>{let{title:r,subtitle:t}=e;const c=(0,n.A)(),s=(0,a.LU)(c.palette.mode);return(0,i.jsxs)(o.A,{m:"30px",children:[(0,i.jsx)(l.A,{variant:"h2",color:s.grey[200],fontWeight:"bold",sx:{mb:"5px"},children:r}),(0,i.jsx)(l.A,{variant:"h5",color:s.blueAccent[400],children:t})]})}},5775:(e,r,t)=>{t.r(r),t.d(r,{default:()=>E});var n=t(1906),o=t(35),l=t(6600),a=t(5316),i=t(6446),c=t(2221),s=t(2143),d=t(9347),h=t(5043),g=t(5527),x=t(3777),u=t(3193),A=t(1787),p=t(9190),m=t(4050),b=t(3146),j=t(8194),f=t(9505),y=t(422),C=t(3513),v=t(9089),k=t(3158),w=t(2664),S=t(3248),_=t(4094),T=t(3216),W=t(579);const E=()=>{const e=(0,S.jE)(),r=(0,g.A)(),t=(0,x.LU)(r.palette.mode),[E,N]=(0,h.useState)(!1),[M,R]=((0,T.Zp)(),(0,h.useState)([])),[D,F]=(0,h.useState)([]),[L,P]=(0,h.useState)(""),[B,z]=(0,h.useState)(""),[G,O]=(0,h.useState)("Adicionar CE_M"),[I,U]=(0,h.useState)("Adiconar BL"),[H,Z]=(0,h.useState)("Adicionar PackingList"),[J,K]=(0,h.useState)("Adicionar AFRMM"),[Q,q]=(0,h.useState)(!1),[V,X]=(0,h.useState)("Nova carga registrada"),Y=(e,r)=>{"clickaway"!==r&&q(!1)};(0,h.useEffect)((()=>{fetch("http://127.0.0.1:8000/contractor/").then((e=>e.json())).then((e=>{const r=e.results;R(r.map((e=>({id:e.id,name:e.name}))))})).catch((e=>console.error("Error fetching data:",e))),fetch("http://127.0.0.1:8000/country/").then((e=>e.json())).then((e=>{const r=e.results;F(r.map((e=>({id:e.id,name:e.name}))))})).catch((e=>console.error("Error fetching data:",e)))}),[]);const $=()=>{N(!1)};return(0,W.jsxs)("div",{children:[(0,W.jsx)(n.A,{onClick:()=>{N(!0)},sx:{backgroundColor:t.blueAccent[400],fontSize:"14px",fontWeight:"bold",padding:"10px 20px",alignItems:"center",display:"flex",justifyContent:"center",color:t.grey[100]},children:"Nova carga"}),(0,W.jsxs)(o.A,{open:E,fullWidth:!0,onClose:$,sx:t.primary[500],PaperProps:{component:"form",onSubmit:async r=>{r.preventDefault();const t=new FormData(r.currentTarget),n=Object.fromEntries(t.entries());t.append("data",JSON.stringify(n)),console.log(t);try{const r=await _.A.post("/cargasinfo/",t,{headers:{"Content-Type":"multipart/form-data"}});console.log(r),X("Nova carga adicionada!"),q(!0),$(),q(!0),e.invalidateQueries("cargasinfo")}catch(o){console.error(o),X("Erro ao registrar nova carga"),q(!0)}}},children:[(0,W.jsx)(l.A,{variant:"h3",fontWeight:"Bold",color:t.grey[200],children:"Registrar nova carga"}),(0,W.jsxs)(a.A,{children:[(0,W.jsx)(i.A,{marginTop:"15px",children:(0,W.jsxs)(u.A,{fullWidth:!0,children:[(0,W.jsx)(p.A,{htmlFor:"contractorname",children:"Cliente"}),(0,W.jsx)(c.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},value:L,label:"Contratante",startAdornment:(0,W.jsx)(A.A,{position:"start",children:(0,W.jsx)(v.A,{sx:{color:t.grey[400]}})}),onChange:e=>P(e.target.value),name:"contractorname",children:M.map((e=>(0,W.jsx)(s.A,{value:e.id,children:e.name},e.id)))})]})}),(0,W.jsx)(i.A,{marginTop:"25px",children:(0,W.jsxs)(u.A,{fullWidth:!0,children:[(0,W.jsx)(p.A,{htmlFor:"type_of_load",children:"Tipo de Carga"}),(0,W.jsx)(m.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},id:"type_of_load",name:"type_of_load",placeholder:"Tipo de carga",startAdornment:(0,W.jsx)(A.A,{position:"start",children:(0,W.jsx)(b.A,{sx:{color:t.grey[400]}})}),label:"Tipo de Carga"})]})}),(0,W.jsx)(i.A,{marginTop:"25px",children:(0,W.jsxs)(u.A,{fullWidth:!0,children:[(0,W.jsx)(p.A,{htmlFor:"origin",children:"Origem"}),(0,W.jsx)(c.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},value:B,label:"Origem",startAdornment:(0,W.jsx)(A.A,{position:"start",children:(0,W.jsx)(C.A,{sx:{color:t.grey[300]}})}),onChange:e=>z(e.target.value),name:"origin",children:D.map((e=>(0,W.jsx)(s.A,{value:e.id,children:e.name},e.id)))})]})}),(0,W.jsx)(i.A,{marginTop:"25px",children:(0,W.jsxs)(u.A,{fullWidth:!0,children:[(0,W.jsx)(p.A,{htmlFor:"weight",children:"Peso"}),(0,W.jsx)(m.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},id:"weight",name:"weight",placeholder:"Kg",startAdornment:(0,W.jsx)(A.A,{position:"start",children:(0,W.jsx)(j.A,{sx:{color:t.grey[300]}})}),label:"Peso"})]})}),(0,W.jsx)(i.A,{marginTop:"25px",children:(0,W.jsxs)(u.A,{fullWidth:!0,children:[(0,W.jsx)(p.A,{htmlFor:"cost",children:"Custo"}),(0,W.jsx)(m.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},id:"cost",name:"cost",startAdornment:(0,W.jsx)(A.A,{position:"start",children:(0,W.jsx)(f.A,{sx:{color:t.grey[300]}})}),label:"Custo"})]})}),(0,W.jsx)(i.A,{marginTop:"25px",children:(0,W.jsxs)(u.A,{fullWidth:!0,children:[(0,W.jsx)(p.A,{htmlFor:"ce_mercante",children:"CE MERCANTE"}),(0,W.jsx)(m.A,{style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:t.grey[400]},id:"ce_mercante",name:"ce_mercante",startAdornment:(0,W.jsx)(A.A,{position:"start",children:(0,W.jsx)(y.A,{sx:{color:t.grey[300]}})}),label:"CE MERCANTE"})]})}),(0,W.jsxs)(i.A,{marginTop:"25px",display:"flex",children:[(0,W.jsx)(u.A,{fullWidth:!0,children:(0,W.jsxs)(n.A,{variant:"outlined",style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderColor:t.grey[500]},component:"label",children:[I,(0,W.jsx)("input",{type:"file",name:"blfile",hidden:!0,onChange:e=>{var r;const t=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar BL";U(t)}})]})}),(0,W.jsx)(u.A,{fullWidth:!0,children:(0,W.jsxs)(n.A,{variant:"outlined",style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderColor:t.grey[500]},component:"label",children:[G,(0,W.jsx)("input",{type:"file",name:"ce_m_file",hidden:!0,onChange:e=>{var r;const t=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar CE_M";O(t)}})]})})]}),(0,W.jsx)(i.A,{marginTop:"25px",children:(0,W.jsx)(u.A,{fullWidth:!0,children:(0,W.jsxs)(n.A,{variant:"outlined",style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderColor:t.grey[500]},component:"label",children:[H,(0,W.jsx)("input",{type:"file",name:"packinglist",hidden:!0,onChange:e=>{var r;const t=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar PackingList";Z(t)}})]})})}),(0,W.jsx)(i.A,{marginTop:"25px",children:(0,W.jsx)(u.A,{fullWidth:!0,children:(0,W.jsxs)(n.A,{variant:"outlined",style:{height:50,backgroundColor:t.blueAccent[900],color:t.grey[300],borderColor:t.grey[500]},component:"label",children:[J,(0,W.jsx)("input",{type:"file",name:"afrmmfile",hidden:!0,onChange:e=>{var r;const t=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar AFRMM";K(t)}})]})})})]}),(0,W.jsxs)(d.A,{children:[(0,W.jsx)(n.A,{onClick:$,sx:{color:t.grey[200]},children:"Cancelar"}),(0,W.jsx)(n.A,{type:"submit",sx:{color:t.grey[200]},children:"Cadastrar"})]})]}),(0,W.jsx)(k.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:Q,autoHideDuration:3e3,onClose:Y,children:(0,W.jsx)(w.A,{onClose:Y,severity:"success",children:V})})]})}},7142:(e,r,t)=>{t.r(r),t.d(r,{default:()=>f});var n=t(5043),o=t(9379),l=t(6240),a=t(1906),i=t(611),c=t(6446),s=t(3777),d=t(7570),h=t(7363),g=t(2505),x=t(4094),u=t(3216),A=t(5475),p=t(579);const m=e=>{let{margin:r,altura:t,largura:m}=e;const b=(0,l.A)(),j=(0,s.LU)(b.palette.mode),[f,y]=((0,u.Zp)(),(0,n.useState)(null)),[C,v]=(0,n.useState)(!0),[k,w]=(0,n.useState)(null),S=[{field:"ce_mercante",headerName:"Cliente",flex:.8},{field:"shipping_status",headerName:"Status de Envio",flex:.5,align:"center",headerAlign:"center"},{field:"type_of_load",headerName:"Tipo de Carga",flex:.8,align:"center",headerAlign:"center"},{field:"origin_name_display",headerName:"Origem",flex:.5,align:"center",headerAlign:"center"},{field:"weight",headerName:"Peso",type:"number",flex:.5,align:"center",headerAlign:"center"},{field:"cost",headerName:"Custo",type:"number",flex:.5,align:"center",headerAlign:"center"},{field:"BL",headerName:"BL",flex:.5,align:"center",headerAlign:"center",renderCell:e=>null===e.row.blfile?(0,p.jsx)(a.A,{style:{color:j.redAccent[500]},size:"small",children:"Indispon\xedvel"}):(0,p.jsx)("strong",{children:(0,p.jsx)("a",{href:"http://127.0.0.1:8000/repositorio/bl/".concat(e.row.id),download:e.row.filename+"."+e.row.extension,children:(0,p.jsx)(a.A,{variant:"contained",sx:{color:j.grey[200],backgroundColor:j.blueAccent[500]},size:"small",children:"Baixar"})})})},{field:" ",headerName:" ",flex:.5,align:"center",headerAlign:"center",renderCell:e=>(0,p.jsx)("strong",{children:(0,p.jsx)(a.A,{variant:"contained",sx:{color:j.grey[200],backgroundColor:j.blueAccent[500]},component:A.N_,to:{pathname:"/dashboard/detalhes/".concat(e.row.id),state:{id:e.row.id}},size:"small",startIcon:(0,p.jsx)(g.A,{}),children:"Detalhes"})})}];if((0,n.useEffect)((()=>{(async()=>{try{const e=await x.A.get("/ship/clientes/company/{company_id}",{withCredentials:!0});y(e.data)}catch(k){w(k)}finally{v(!1)}})()}),[]),C)return(0,p.jsx)(i.A,{sx:{color:j.blueAccent[400]}});if(k)return(0,p.jsxs)("div",{children:["Error: ",k.message]});const _=f.map(((e,r)=>(0,o.A)({id:r},e)));return(0,p.jsx)(c.A,{m:r,height:t,width:m,sx:{"& .name-column-cell":{color:j.greenAccent[400]},"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:j.blueAccent[700],borderBottom:"none"},"& .MuiDataGrid-columnHeader":{borderBottom:j.blueAccent[400]},"& .MuiDataGrid-virtualScroller":{backgroundColor:j.blueAccent[900]},"& .MuiDataGrid-footerContainer":{backgroundColor:j.blueAccent[400],borderTop:"none"}},children:(0,p.jsx)(d.z,{localeText:h.F.components.MuiDataGrid.defaultProps.localeText,rows:_,columns:S,pageSize:5,rowsPerPageOptions:[5],checkboxSelection:!0})})};var b=t(5906),j=t(5775);function f(){const e=(0,l.A)();(0,s.LU)(e.palette.mode);return(0,p.jsxs)(c.A,{m:"20px",children:[(0,p.jsxs)(c.A,{display:"flex",justifyContent:"space-between",sx:{boxShadow:4},alignItems:"center",children:[(0,p.jsx)(c.A,{children:(0,p.jsx)(b.A,{title:"Nome da empresa",subtitle:"Clientes"})}),(0,p.jsx)(c.A,{display:"flex",justifyContent:"space-between",alignItems:"center",marginRight:"25px",sx:{gap:"20px"},children:(0,p.jsx)(j.default,{})})]}),(0,p.jsx)(c.A,{mt:"15px ",children:(0,p.jsx)(m,{})})]})}}}]);
//# sourceMappingURL=142.bd25d199.chunk.js.map