"use strict";(self.webpackChunkfrontendreact=self.webpackChunkfrontendreact||[]).push([[775],{5775:(e,r,o)=>{o.r(r),o.d(r,{default:()=>R});var t=o(1906),n=o(35),l=o(6600),i=o(5316),a=o(6446),s=o(2221),c=o(2143),d=o(9347),h=o(5043),g=o(5527),x=o(3777),u=o(3193),A=o(1787),p=o(9190),m=o(4050),j=o(3146),b=o(8194),y=o(9505),f=o(422),C=o(3513),v=o(9089),k=o(3158),W=o(2664),T=o(3248),E=o(4094),S=o(3216),_=o(579);const R=()=>{const e=(0,T.jE)(),r=(0,g.A)(),o=(0,x.LU)(r.palette.mode),[R,F]=(0,h.useState)(!1),[w,M]=((0,S.Zp)(),(0,h.useState)([])),[N,P]=(0,h.useState)([]),[L,O]=(0,h.useState)(""),[B,D]=(0,h.useState)(""),[z,H]=(0,h.useState)("Adicionar CE_M"),[I,J]=(0,h.useState)("Adiconar BL"),[K,Q]=(0,h.useState)("Adicionar PackingList"),[U,Z]=(0,h.useState)("Adicionar AFRMM"),[q,G]=(0,h.useState)(!1),[V,X]=(0,h.useState)("Nova carga registrada"),Y=(e,r)=>{"clickaway"!==r&&G(!1)};(0,h.useEffect)((()=>{fetch("http://127.0.0.1:8000/contractor/").then((e=>e.json())).then((e=>{const r=e.results;M(r.map((e=>({id:e.id,name:e.name}))))})).catch((e=>console.error("Error fetching data:",e))),fetch("http://127.0.0.1:8000/country/").then((e=>e.json())).then((e=>{const r=e.results;P(r.map((e=>({id:e.id,name:e.name}))))})).catch((e=>console.error("Error fetching data:",e)))}),[]);const $=()=>{F(!1)};return(0,_.jsxs)("div",{children:[(0,_.jsx)(t.A,{onClick:()=>{F(!0)},sx:{backgroundColor:o.blueAccent[400],fontSize:"14px",fontWeight:"bold",padding:"10px 20px",alignItems:"center",display:"flex",justifyContent:"center",color:o.grey[100]},children:"Nova carga"}),(0,_.jsxs)(n.A,{open:R,fullWidth:!0,onClose:$,sx:o.primary[500],PaperProps:{component:"form",onSubmit:async r=>{r.preventDefault();const o=new FormData(r.currentTarget),t=Object.fromEntries(o.entries());o.append("data",JSON.stringify(t)),console.log(o);try{const r=await E.A.post("/cargasinfo/",o,{headers:{"Content-Type":"multipart/form-data"}});console.log(r),X("Nova carga adicionada!"),G(!0),$(),G(!0),e.invalidateQueries("cargasinfo")}catch(n){console.error(n),X("Erro ao registrar nova carga"),G(!0)}}},children:[(0,_.jsx)(l.A,{variant:"h3",fontWeight:"Bold",color:o.grey[200],children:"Registrar nova carga"}),(0,_.jsxs)(i.A,{children:[(0,_.jsx)(a.A,{marginTop:"15px",children:(0,_.jsxs)(u.A,{fullWidth:!0,children:[(0,_.jsx)(p.A,{htmlFor:"contractorname",children:"Cliente"}),(0,_.jsx)(s.A,{style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:o.grey[400]},value:L,label:"Contratante",startAdornment:(0,_.jsx)(A.A,{position:"start",children:(0,_.jsx)(v.A,{sx:{color:o.grey[400]}})}),onChange:e=>O(e.target.value),name:"contractorname",children:w.map((e=>(0,_.jsx)(c.A,{value:e.id,children:e.name},e.id)))})]})}),(0,_.jsx)(a.A,{marginTop:"25px",children:(0,_.jsxs)(u.A,{fullWidth:!0,children:[(0,_.jsx)(p.A,{htmlFor:"type_of_load",children:"Tipo de Carga"}),(0,_.jsx)(m.A,{style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:o.grey[400]},id:"type_of_load",name:"type_of_load",placeholder:"Tipo de carga",startAdornment:(0,_.jsx)(A.A,{position:"start",children:(0,_.jsx)(j.A,{sx:{color:o.grey[400]}})}),label:"Tipo de Carga"})]})}),(0,_.jsx)(a.A,{marginTop:"25px",children:(0,_.jsxs)(u.A,{fullWidth:!0,children:[(0,_.jsx)(p.A,{htmlFor:"origin",children:"Origem"}),(0,_.jsx)(s.A,{style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:o.grey[400]},value:B,label:"Origem",startAdornment:(0,_.jsx)(A.A,{position:"start",children:(0,_.jsx)(C.A,{sx:{color:o.grey[300]}})}),onChange:e=>D(e.target.value),name:"origin",children:N.map((e=>(0,_.jsx)(c.A,{value:e.id,children:e.name},e.id)))})]})}),(0,_.jsx)(a.A,{marginTop:"25px",children:(0,_.jsxs)(u.A,{fullWidth:!0,children:[(0,_.jsx)(p.A,{htmlFor:"weight",children:"Peso"}),(0,_.jsx)(m.A,{style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:o.grey[400]},id:"weight",name:"weight",placeholder:"Kg",startAdornment:(0,_.jsx)(A.A,{position:"start",children:(0,_.jsx)(b.A,{sx:{color:o.grey[300]}})}),label:"Peso"})]})}),(0,_.jsx)(a.A,{marginTop:"25px",children:(0,_.jsxs)(u.A,{fullWidth:!0,children:[(0,_.jsx)(p.A,{htmlFor:"cost",children:"Custo"}),(0,_.jsx)(m.A,{style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:o.grey[400]},id:"cost",name:"cost",startAdornment:(0,_.jsx)(A.A,{position:"start",children:(0,_.jsx)(y.A,{sx:{color:o.grey[300]}})}),label:"Custo"})]})}),(0,_.jsx)(a.A,{marginTop:"25px",children:(0,_.jsxs)(u.A,{fullWidth:!0,children:[(0,_.jsx)(p.A,{htmlFor:"ce_mercante",children:"CE MERCANTE"}),(0,_.jsx)(m.A,{style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderRadius:"4px",borderWidth:"1px",borderColor:o.grey[400]},id:"ce_mercante",name:"ce_mercante",startAdornment:(0,_.jsx)(A.A,{position:"start",children:(0,_.jsx)(f.A,{sx:{color:o.grey[300]}})}),label:"CE MERCANTE"})]})}),(0,_.jsxs)(a.A,{marginTop:"25px",display:"flex",children:[(0,_.jsx)(u.A,{fullWidth:!0,children:(0,_.jsxs)(t.A,{variant:"outlined",style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderColor:o.grey[500]},component:"label",children:[I,(0,_.jsx)("input",{type:"file",name:"blfile",hidden:!0,onChange:e=>{var r;const o=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar BL";J(o)}})]})}),(0,_.jsx)(u.A,{fullWidth:!0,children:(0,_.jsxs)(t.A,{variant:"outlined",style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderColor:o.grey[500]},component:"label",children:[z,(0,_.jsx)("input",{type:"file",name:"ce_m_file",hidden:!0,onChange:e=>{var r;const o=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar CE_M";H(o)}})]})})]}),(0,_.jsx)(a.A,{marginTop:"25px",children:(0,_.jsx)(u.A,{fullWidth:!0,children:(0,_.jsxs)(t.A,{variant:"outlined",style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderColor:o.grey[500]},component:"label",children:[K,(0,_.jsx)("input",{type:"file",name:"packinglist",hidden:!0,onChange:e=>{var r;const o=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar PackingList";Q(o)}})]})})}),(0,_.jsx)(a.A,{marginTop:"25px",children:(0,_.jsx)(u.A,{fullWidth:!0,children:(0,_.jsxs)(t.A,{variant:"outlined",style:{height:50,backgroundColor:o.blueAccent[900],color:o.grey[300],borderColor:o.grey[500]},component:"label",children:[U,(0,_.jsx)("input",{type:"file",name:"afrmmfile",hidden:!0,onChange:e=>{var r;const o=(null===(r=e.target.files[0])||void 0===r?void 0:r.name)||"Adicionar AFRMM";Z(o)}})]})})})]}),(0,_.jsxs)(d.A,{children:[(0,_.jsx)(t.A,{onClick:$,sx:{color:o.grey[200]},children:"Cancelar"}),(0,_.jsx)(t.A,{type:"submit",sx:{color:o.grey[200]},children:"Cadastrar"})]})]}),(0,_.jsx)(k.A,{anchorOrigin:{vertical:"top",horizontal:"right"},open:q,autoHideDuration:3e3,onClose:Y,children:(0,_.jsx)(W.A,{onClose:Y,severity:"success",children:V})})]})}}}]);
//# sourceMappingURL=775.f3c657d5.chunk.js.map